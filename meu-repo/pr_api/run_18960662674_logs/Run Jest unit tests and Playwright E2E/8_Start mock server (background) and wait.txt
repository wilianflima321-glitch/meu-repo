2025-10-31T02:20:38.5815479Z ##[group]Run # start server in background and capture logs
2025-10-31T02:20:38.5815923Z [36;1m# start server in background and capture logs[0m
2025-10-31T02:20:38.5816443Z [36;1mnohup node tools/llm-mock/server.js > tools/llm-mock/server.log 2>&1 & echo $! > tools/llm-mock/server.pid || true[0m
2025-10-31T02:20:38.5816994Z [36;1m# install wait-on and wait for server to accept connections[0m
2025-10-31T02:20:38.5817311Z [36;1mnpm i -g wait-on || true[0m
2025-10-31T02:20:38.5817714Z [36;1mnpx wait-on http://127.0.0.1:8010 --timeout 30000 || (cat tools/llm-mock/server.log && exit 1)[0m
2025-10-31T02:20:38.5852026Z shell: /usr/bin/bash -e {0}
2025-10-31T02:20:38.5852311Z ##[endgroup]
2025-10-31T02:20:40.9821545Z npm warn EBADENGINE Unsupported engine {
2025-10-31T02:20:40.9823601Z npm warn EBADENGINE   package: 'joi@18.0.1',
2025-10-31T02:20:40.9824257Z npm warn EBADENGINE   required: { node: '>= 20' },
2025-10-31T02:20:40.9825047Z npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
2025-10-31T02:20:40.9825751Z npm warn EBADENGINE }
2025-10-31T02:20:42.5870295Z 
2025-10-31T02:20:42.5873014Z added 36 packages in 4s
2025-10-31T02:20:42.5873342Z 
2025-10-31T02:20:42.5873590Z 7 packages are looking for funding
2025-10-31T02:20:42.5874074Z   run `npm fund` for details
2025-10-31T02:21:13.2449534Z Error: Timed out waiting for: http://127.0.0.1:8010
2025-10-31T02:21:13.2454522Z     at /opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/lib/wait-on.js:131:31
2025-10-31T02:21:13.2456018Z     at doInnerSub (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/mergeInternals.js:22:31)
2025-10-31T02:21:13.2457828Z     at outerNext (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/mergeInternals.js:17:70)
2025-10-31T02:21:13.2459783Z     at OperatorSubscriber._this._next (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/OperatorSubscriber.js:33:21)
2025-10-31T02:21:13.2461808Z     at Subscriber.next (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/Subscriber.js:51:18)
2025-10-31T02:21:13.2463477Z     at AsyncAction.work (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/observable/timer.js:28:28)
2025-10-31T02:21:13.2465247Z     at AsyncAction._execute (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncAction.js:79:18)
2025-10-31T02:21:13.2467087Z     at AsyncAction.execute (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncAction.js:67:26)
2025-10-31T02:21:13.2468957Z     at AsyncScheduler.flush (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncScheduler.js:38:33)
2025-10-31T02:21:13.2470374Z     at listOnTimeout (node:internal/timers:569:17)
2025-10-31T02:21:13.2638125Z node:internal/modules/cjs/loader:1143
2025-10-31T02:21:13.2639612Z   throw err;
2025-10-31T02:21:13.2640531Z   ^
2025-10-31T02:21:13.2641335Z 
2025-10-31T02:21:13.2641709Z Error: Cannot find module './lib/mock-core'
2025-10-31T02:21:13.2642157Z Require stack:
2025-10-31T02:21:13.2642714Z - /home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js
2025-10-31T02:21:13.2643610Z     at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
2025-10-31T02:21:13.2644808Z     at Module._load (node:internal/modules/cjs/loader:981:27)
2025-10-31T02:21:13.2645466Z     at Module.require (node:internal/modules/cjs/loader:1231:19)
2025-10-31T02:21:13.2646095Z     at require (node:internal/modules/helpers:177:18)
2025-10-31T02:21:13.2647170Z     at Object.<anonymous> (/home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js:5:14)
2025-10-31T02:21:13.2647984Z     at Module._compile (node:internal/modules/cjs/loader:1364:14)
2025-10-31T02:21:13.2648689Z     at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
2025-10-31T02:21:13.2649659Z     at Module.load (node:internal/modules/cjs/loader:1203:32)
2025-10-31T02:21:13.2650489Z     at Module._load (node:internal/modules/cjs/loader:1019:12)
2025-10-31T02:21:13.2651333Z     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:128:12) {
2025-10-31T02:21:13.2651860Z   code: 'MODULE_NOT_FOUND',
2025-10-31T02:21:13.2652265Z   requireStack: [ '/home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js' ]
2025-10-31T02:21:13.2652652Z }
2025-10-31T02:21:13.2652744Z 
2025-10-31T02:21:13.2652819Z Node.js v18.20.8
2025-10-31T02:21:13.2664850Z ##[error]Process completed with exit code 1.
