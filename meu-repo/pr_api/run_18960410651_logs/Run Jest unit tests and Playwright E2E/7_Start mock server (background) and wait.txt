2025-10-31T02:04:56.2633245Z ##[group]Run # start server in background and capture logs
2025-10-31T02:04:56.2633762Z [36;1m# start server in background and capture logs[0m
2025-10-31T02:04:56.2634450Z [36;1mnohup node tools/llm-mock/server.js > tools/llm-mock/server.log 2>&1 & echo $! > tools/llm-mock/server.pid || true[0m
2025-10-31T02:04:56.2635173Z [36;1m# install wait-on and wait for server to accept connections[0m
2025-10-31T02:04:56.2635625Z [36;1mnpm i -g wait-on || true[0m
2025-10-31T02:04:56.2636164Z [36;1mnpx wait-on http://127.0.0.1:8010 --timeout 30000 || (cat tools/llm-mock/server.log && exit 1)[0m
2025-10-31T02:04:56.2670363Z shell: /usr/bin/bash -e {0}
2025-10-31T02:04:56.2670645Z ##[endgroup]
2025-10-31T02:04:58.4675812Z npm warn EBADENGINE Unsupported engine {
2025-10-31T02:04:58.4690805Z npm warn EBADENGINE   package: 'joi@18.0.1',
2025-10-31T02:04:58.4691673Z npm warn EBADENGINE   required: { node: '>= 20' },
2025-10-31T02:04:58.4692678Z npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
2025-10-31T02:04:58.4693597Z npm warn EBADENGINE }
2025-10-31T02:04:59.8608722Z 
2025-10-31T02:04:59.8610844Z added 36 packages in 4s
2025-10-31T02:04:59.8611530Z 
2025-10-31T02:04:59.8613120Z 7 packages are looking for funding
2025-10-31T02:04:59.8614800Z   run `npm fund` for details
2025-10-31T02:05:30.5565329Z Error: Timed out waiting for: http://127.0.0.1:8010
2025-10-31T02:05:30.5570538Z     at /opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/lib/wait-on.js:131:31
2025-10-31T02:05:30.5572852Z     at doInnerSub (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/mergeInternals.js:22:31)
2025-10-31T02:05:30.5575844Z     at outerNext (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/mergeInternals.js:17:70)
2025-10-31T02:05:30.5578789Z     at OperatorSubscriber._this._next (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/operators/OperatorSubscriber.js:33:21)
2025-10-31T02:05:30.5581223Z     at Subscriber.next (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/Subscriber.js:51:18)
2025-10-31T02:05:30.5583462Z     at AsyncAction.work (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/observable/timer.js:28:28)
2025-10-31T02:05:30.5586275Z     at AsyncAction._execute (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncAction.js:79:18)
2025-10-31T02:05:30.5589092Z     at AsyncAction.execute (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncAction.js:67:26)
2025-10-31T02:05:30.5591755Z     at AsyncScheduler.flush (/opt/hostedtoolcache/node/18.20.8/x64/lib/node_modules/wait-on/node_modules/rxjs/dist/cjs/internal/scheduler/AsyncScheduler.js:38:33)
2025-10-31T02:05:30.5593404Z     at listOnTimeout (node:internal/timers:569:17)
2025-10-31T02:05:30.5744602Z node:internal/modules/cjs/loader:1143
2025-10-31T02:05:30.5746158Z   throw err;
2025-10-31T02:05:30.5746504Z   ^
2025-10-31T02:05:30.5746669Z 
2025-10-31T02:05:30.5746963Z Error: Cannot find module 'express'
2025-10-31T02:05:30.5754200Z Require stack:
2025-10-31T02:05:30.5755103Z - /home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js
2025-10-31T02:05:30.5756366Z     at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
2025-10-31T02:05:30.5758997Z     at Module._load (node:internal/modules/cjs/loader:981:27)
2025-10-31T02:05:30.5759855Z     at Module.require (node:internal/modules/cjs/loader:1231:19)
2025-10-31T02:05:30.5760544Z     at require (node:internal/modules/helpers:177:18)
2025-10-31T02:05:30.5761487Z     at Object.<anonymous> (/home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js:1:17)
2025-10-31T02:05:30.5762525Z     at Module._compile (node:internal/modules/cjs/loader:1364:14)
2025-10-31T02:05:30.5763421Z     at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
2025-10-31T02:05:30.5764241Z     at Module.load (node:internal/modules/cjs/loader:1203:32)
2025-10-31T02:05:30.5764729Z     at Module._load (node:internal/modules/cjs/loader:1019:12)
2025-10-31T02:05:30.5765380Z     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:128:12) {
2025-10-31T02:05:30.5765918Z   code: 'MODULE_NOT_FOUND',
2025-10-31T02:05:30.5766421Z   requireStack: [ '/home/runner/work/meu-repo/meu-repo/tools/llm-mock/server.js' ]
2025-10-31T02:05:30.5766894Z }
2025-10-31T02:05:30.5767003Z 
2025-10-31T02:05:30.5767099Z Node.js v18.20.8
2025-10-31T02:05:30.5779456Z ##[error]Process completed with exit code 1.
