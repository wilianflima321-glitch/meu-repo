(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4258],{4030:function(e,s,i){Promise.resolve().then(i.bind(i,8779))},8779:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return d}});var t=i(7437),a=i(2265),n=i(3949);function l(){let{t:e}=(0,n.$G)("common"),[s,i]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,r]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/git/status"),s=await e.json();i(s)}catch(e){console.error("Failed to fetch Git status:",e),i({staged:["index.html","app/page.tsx"],modified:["components/GitPanel.tsx"],untracked:["newfile.txt"],ahead:2,behind:0,currentBranch:"main"})}finally{d(!1)}},m=async()=>{if(c.trim())try{await fetch("/api/git/commit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c})}),r(""),o()}catch(e){console.error("Commit failed:",e)}};return l?(0,t.jsx)("div",{children:"Loading Git status..."}):(0,t.jsxs)("div",{className:"git-panel p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Git - ",null==s?void 0:s.currentBranch]}),(null==s?void 0:s.ahead)>0&&(0,t.jsxs)("div",{className:"mb-2 text-green-600",children:[s.ahead," commits ahead of origin"]}),(null==s?void 0:s.behind)>0&&(0,t.jsxs)("div",{className:"mb-2 text-red-600",children:[s.behind," commits behind origin"]}),(null==s?void 0:s.staged.length)>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Staged Changes:"}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:s.staged.map(e=>(0,t.jsx)("li",{children:e},e))})]}),(null==s?void 0:s.modified.length)>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Modified Files:"}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:s.modified.map(e=>(0,t.jsx)("li",{children:e},e))})]}),(null==s?void 0:s.untracked.length)>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Untracked Files:"}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:s.untracked.map(e=>(0,t.jsx)("li",{children:e},e))})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("textarea",{value:c,onChange:e=>r(e.target.value),placeholder:"Commit message...",className:"w-full p-2 border rounded",rows:3}),(0,t.jsx)("button",{onClick:m,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:!c.trim(),children:"Commit"})]})]})}function d(){return(0,t.jsxs)("div",{className:"container mx-auto p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Git Integration"}),(0,t.jsx)(l,{})]})}}},function(e){e.O(0,[3949,2971,2117,1744],function(){return e(e.s=4030)}),_N_E=e.O()}]);