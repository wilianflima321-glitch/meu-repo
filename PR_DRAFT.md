# PR Draft: Ensemble warnings, enhanced verifier & physics, Playwright E2E

This PR implements ensemble warnings propagation, an enhanced deterministic verifier with physics checks and magic exceptions, Playwright E2E tests, and infra CI agent skeleton.

What's included
- tools/llm-mock/lib/physics.js: improved physics helpers (drag, mass, trajectory sampling, collision detection)
- tools/llm-mock/lib/verifier.js: uses new physics helpers to detect impossible trajectories, collisions, and emits `fantasy_exception` when actor has `powers.isMagic`
- tools/llm-mock/__tests__: additional `physics_adv.test.js` and existing verifier tests
- examples/playwright/tests/: Playwright E2E for soft-warn
- infra-playwright-ci-agent/: agent skeleton and docs
- UI hooks: `packages/ai-ide` subscribes to provider warnings and displays banner (non-blocking)

Checklist
- [x] Unit tests (Jest) pass locally
- [x] Playwright E2E (mock) pass locally (requires mock server listening on :8010)
- [ ] CI workflow integration (suggested next step)
- [ ] PR reviewers: @your-team

How to apply locally
1. From your fork clone with proper remote set.
2. Apply the provided patch (or pull branch):
```powershell
# assuming you have the patch g:\repo\infra-playwright-ci-ensemble.patch
Set-Location -Path 'g:\repo'
git checkout -b infra/playwright-ci-ensemble
git apply .\infra-playwright-ci-ensemble.patch
git add -A
git commit -m "Apply ensemble & verifier changes"
git push -u origin infra/playwright-ci-ensemble
```

Notes
- Push failed from the build environment due to placeholder remote and missing credentials. Use your fork remote or provide a valid remote URL to push from this environment.
- Advanced physics in `physics.js` is intentionally approximate and tuned for verification (not simulation-grade). If you want more fidelity (drag as function of area/density, obstacle geometry, 3D collisions) I can extend it.

---
Generated by automation; edit PR description as desired before opening the PR.
